ACDiscountApp.PDPage.DisplayTiers=function(){let t=!1;function e(t){if(globalFields.isProduct_Page&&null!=t){jQuery("#ac_countDown").css("display","block");var e=new Date(t);e=Date.parse(e)/1e3;var a=new Date,s=e-(a=Date.parse(a)/1e3),l=Math.floor(s/86400),i=Math.floor(s/3600),n=i%24,c=Math.floor((s-3600*i)/60),o=Math.floor(s-3600*i-60*c),d=!1;(l>0||i>24)&&(d=!0),l<0&&(l="00"),i<10&&(i="0"+i),c<10&&(c="0"+c),o<10&&(o="0"+o),s>0?d?($(".ac__days").html(l),$(".ac__hours").html(n),$(".ac__minutes").html(c),$(".ac_sec, .ac__colon.seconds").hide()):($(".ac__hours").html(n),$(".ac__minutes").html(c),$(".ac__seconds").html(o),$(".ac_day, .ac__colon.hours").hide(),$(".ac_sec, .ac__colon.seconds").show()):jQuery(".ac__settings__table, #ac_countDown").remove(),setTimeout((function(){jQuery(".ac__settings__table").after(jQuery("#ac_countDown"))}),500)}}!globalFieldsCartPage_AC.cartObj.items.some((t=>t.hasOwnProperty("selling_plan_allocation")))?t=!1:(t=!0,setTimeout((()=>{jQuery(".hs-sub-total-cart .hs-mount-sub-total").html('<span class="money" data-currency-'+globalFields.currency.toLowerCase()+'="'+globalFields.currencySymbol+cartObject.total_price+'" data-currency="'+globalFields.currency+'">'+globalFields.formatMoney(cartObject.original_total_price/100*100,globalFields.amount)+"</span>")}),800),jQuery(".anncode_Message").hide()),"back_forward"===performance.getEntriesByType("navigation")[0].type&&location.reload();var a=null,s=function(){a=setInterval((function(){console.log("pdp buttons and tiered"),jQuery(".shopify-payment-button__button").length>0&&(jQuery(".shopify-payment-button__button").hide(),clearInterval(a))}),500)};this.DisplayTiersFn=function(){setTimeout((function(){jQuery(".ac__settings__table").remove();var t=jQuery("input[name^=id]:checked, select[name^=id], input[name=id], hidden[name^=id]",jQuery('form[action="/cart/add"]')).val();console.log("selectedVariant",t);let l=null!=globalFields.TableProductPage&&""!=globalFields.TableProductPage?globalFields.TableProductPage:"true";if(l="true"==l,null!=t&&"[]"!=globalFieldsProductPage_AC.productMetafield&&null!=globalFieldsProductPage_AC.productMetafield&&l){let l=globalFields.GetTierObject(globalFieldsProductPage_AC.productMetafield,t),c=null!=l.DiscountAppliedON&&""!=l.DiscountAppliedON&&null!=l.DiscountAppliedON,o=null!=l.Location_Tag_&&""!=l.Location_Tag_&&null!=l.Location_Tag_;if(c){if(o){let c="Both_Store"==l.DiscountAppliedON||"Online_Store"==l.DiscountAppliedON,o=Object.keys(l.Location_Tag_);if("StoreLocation"==o[0]){let _=!(!l.Location_Tag_[o[0]].includes(globalFields.Storecountry)&&!l.Location_Tag_[o[0]].includes(globalFields.Storecity));if(null!=l&&l.status&&globalFields.StartEndDateValid(l.start_date,l.end_date)&&c&&_){(i=globalFields.TimerStartEndDateValid(l.start_date,l.end_date)).valid,i.start_date,i.end_date;let c=parsed_timer_settings;n(l),d(l,t),null!=c&&c.TimerStatus&&i.valid&&setInterval((function(){e(i.end_date)}),1e3),jQuery(".shopify-payment-button__button").hide(),setTimeout((function(){jQuery(".shopify-payment-button__button").hide(),s()}),2e3),setTimeout((function(){clearInterval(a)}),5e3)}}else{let _=l.Location_Tag_[o[0]],r=globalFields.Customercountry,u=globalFields.Customercity,b=(t,e)=>t.some((t=>e.includes(t))),p=((t,e)=>t.some((t=>e.includes(t))))(_,r),h=b(_,u);if(null!=l&&l.status&&globalFields.StartEndDateValid(l.start_date,l.end_date)&&c&&(p||h)){(i=globalFields.TimerStartEndDateValid(l.start_date,l.end_date)).valid,i.start_date,i.end_date;let c=parsed_timer_settings;n(l),d(l,t),null!=c&&c.TimerStatus&&i.valid&&setInterval((function(){e(i.end_date)}),1e3),jQuery(".shopify-payment-button__button").hide(),setTimeout((function(){jQuery(".shopify-payment-button__button").hide(),s()}),2e3),setTimeout((function(){clearInterval(a)}),3e3)}}}else if(null!=l&&l.status&&globalFields.StartEndDateValid(l.start_date,l.end_date)&&("Both_Store"==l.DiscountAppliedON||"Online_Store"==l.DiscountAppliedON)){(i=globalFields.TimerStartEndDateValid(l.start_date,l.end_date)).valid,i.start_date,i.end_date;let c=parsed_timer_settings;n(l),d(l,t),null!=c&&c.TimerStatus&&i.valid&&setInterval((function(){e(i.end_date)}),1e3),jQuery(".shopify-payment-button__button").hide(),setTimeout((function(){jQuery(".shopify-payment-button__button").hide(),s()}),2e3),setTimeout((function(){clearInterval(a)}),2e3)}}else if(null!=l&&l.status&&globalFields.StartEndDateValid(l.start_date,l.end_date)){var i;(i=globalFields.TimerStartEndDateValid(l.start_date,l.end_date)).valid,i.start_date,i.end_date;let c=parsed_timer_settings;n(l),d(l,t),null!=c&&c.TimerStatus&&i.valid&&setInterval((function(){e(i.end_date)}),1e3),jQuery(".shopify-payment-button__button").hide(),setTimeout((function(){jQuery(".shopify-payment-button__button").hide(),s()}),2e3),setTimeout((function(){clearInterval(a)}),2e3)}}}),200)},setTimeout((function(){clearInterval(a)}),1e4),this.OnVariantChange=function(){setTimeout((function(){$(".swatch_options label").click((function(){}))}),2e3)};var l=function(t,e,a){jQuery(e).before(t)},n=function(t){var e='.purchase-details button[name="add"]';"table1"==globalFields.settings.selected_table&&l('<div class="ac__settings__table ac_table1" id="ac_table1"><div class="ac__tbody"><div class="ac__tr ac__tr1"><th class="ac__th ac__th1">'+globalFields.settings.table_headers.header1_value+'</th><th class="ac__th ac__th2">'+globalFields.settings.table_headers.header2_value+"</th></div></div></div>",e),"table2"==globalFields.settings.selected_table&&l('<div class="ac__settings__table ac_table2" id="ac_table2"><div class="ac_table_heading ac__tr ac__tr1"><span class="ac__th ac__th1">'+globalFields.settings.table_headers.header1_value+'</span><span class="ac__th ac__th2">'+globalFields.settings.table_headers.header2_value+'</span><span class="ac__th ac__th3">'+globalFields.settings.table_headers.header3_value+'</span></div><div class="ac__tbody ac_grid_box"></div></div>',e),"table3"==globalFields.settings.selected_table&&l('<div class="ac__settings__table" id="ac_table3"><div class="ac__tbody"><div class="ac__tr ac__tr1"><th class="ac__th ac__th1"><span class="ac_tire_table_heading">'+globalFields.settings.table_headers.header1_value+globalFields.settings.table_headers.header2_value+globalFields.settings.table_headers.header3_value+"</span></th></div></div></div>",e),"table4"==globalFields.settings.selected_table&&l('<div class="ac__settings__table ac_table4" id="ac_table4"><div class="ac__tbody"></div></div>',e)},c=function(t,e){jQuery(e).append(t)},o=function(t,e,a,s,l,i,n,o){var d=t==e?"":"+",_='<span class="money" data-currency-'+globalFields.currency.toLowerCase()+'="'+globalFields.currencySymbol+a+'" data-currency="'+globalFields.currency+'">'+globalFields.formatMoney(a,globalFields.amount)+"</span>";if("table1"==globalFields.settings.selected_table&&c('<div class="ac__tr ac__tr'+(n+1)+'"><input type="checkbox"/>Buy<span class="">'+t+d+'</span><span class="">'+s+"</span></div>","#ac_table1 .ac__tbody"),"table2"==globalFields.settings.selected_table&&c(n==o?'<div class="ac_border_right ac__tr ac__tr'+(n+1)+'"> <span class="ac__td ac__td3" style="font-size:32px;font-weight:500;">'+s+" </span>"+l+i+' <p class="ac_items_value"><span style="font-weight:500;padding-right:2px;">Any</span><span class="ac__td ac__td1">'+t+'</span><span class="ac__td ac__td2">'+e+'</span><span style="font-weight:500;padding-left:2px;">items</span></p></div>':'<div class="ac_border_right ac__tr ac__tr'+(n+1)+'"> <span class="ac__td ac__td3" style="font-size:32px;font-weight:500;">'+s+" </span>"+l+i+' <p class="ac_items_value"><span style="font-weight:500;padding-right:2px;">Any</span><span class="ac__td ac__td1">'+t+'</span>-<span class="ac__td ac__td2">'+e+'</span><span style="font-weight:500;padding-left:2px;">items</span></p></div>',"#ac_table2 .ac__tbody"),"table3"==globalFields.settings.selected_table&&c('<div class="ac__tr ac__tr'+(n+1)+'"><div class="ac_tier_discount"><span class="ac__td ac__td1"><input type="radio" title="selectedcheckbox" name="buyOption" id="selectedcheckbox'+t+'" value="'+t+'"> <span class="ac_tire_padding_left">Buy</span> <span class="ac_tire_padding_left1">'+t+'</span></span><span class="ac__td ac__td2 ac_tire_green_clr">'+s+'</span></div><div><span class="ac__td ac__td3">'+_+"</span></div></div>","#ac_table3 .ac__tbody"),"table4"==globalFields.settings.selected_table){"+"==e&&t+"+",c('<div class="ac__tr ac__tr'+n+'"> <span class="ac__td ac__td1">'+globalFields.settings.table_body.body1_value+" "+t+" "+globalFields.settings.table_body.body2_value+" "+s+"</span></div>","#ac_table4")}},d=function(t,e){var a=globalFieldsProductPage_AC.variantsPriceArray_PD[e];for(a/=100,i=0;i<t.tier_min.length;i++){var s=!1,l=Number(t.tier_values[i]),n="",c="",d=parseInt(t.tier_min[i]),_=t.tier_max[i],r=0;if(_="max"!=_?parseInt(_):"+","percentage"==t.discount_type){r=Number(a.toFixed(2));var u=parseFloat(l)/100;(r-=Number(parseFloat(u*r).toFixed(2)))<=0?(r=0,l="100",s=!0,_="+",n='<span style="position: relative;bottom: 15px;font-size: 18px;right: 5px;font-weight:500;">%</span>',c='<span style="position: relative;right: 20px;top: 5px;font-weight: 500;">OFF</span>'):(r=r.toFixed(2),n="<span style='position: relative;bottom: 15px;font-size: 18px;right: 5px;font-weight:500;'>%</span>",c='<span style="position: relative;right: 20px;top: 5px;font-weight: 500;">OFF</span>')}else"fixed_price"==t.discount_type?(r=l.toFixed(2),l=globalFields.formatMoney(l.toFixed(2),globalFields.amount)):(r=Number((a-l).toFixed(2)))<=0?(r=0,l=globalFields.formatMoney(a.toFixed(2),globalFields.amount),s=!0,_="+"):(r=r.toFixed(2),l=globalFields.formatMoney(l.toFixed(2),globalFields.amount),c="<span>OFF</span>");if(o(d,_,r,l,n,c,i+1,t.tier_min.length),s)break}$(document).ready((function(){$('input[name="buyOption"]').click((function(){$(".ac_tire_padding_left").removeClass("ac_tire_orange_clr"),$(".ac_tire_padding_left1").removeClass("ac_tire_orange_clr"),$(this).next(".ac_tire_padding_left").addClass("ac_tire_orange_clr"),$(this).closest(".ac__tr").find(".ac_tire_padding_left1").addClass("ac_tire_orange_clr"),$(this).closest(".ac__tr").find(".ac__td.ac__td3").addClass("ac_tire_orange_clr"),$('input[name="buyOption"]').not(this).closest(".ac__tr").find(".ac__td.ac__td3").removeClass("ac_tire_orange_clr")}))}))};setTimeout((function(){t||jQuery(".hs-drawer-checkout form").replaceWith('<button id="anncodde" class="hs-checkout-purchase checkout-x-buy-now-btn hs-button-100-w btn hs-event-static">Checkout</button>')}),500),setTimeout((function(){t||jQuery(".hs-drawer-checkout form").replaceWith('<button id="anncodde" class="hs-checkout-purchase checkout-x-buy-now-btn hs-button-100-w btn hs-event-static">Checkout</button>')}),800),t||jQuery(".hs-drawer-checkout form").replaceWith('<button id="anncodde" class="hs-checkout-purchase checkout-x-buy-now-btn hs-button-100-w btn hs-event-static">Checkout</button>'),jQuery(".search-cart-head-m-div .cart_container").click((function(){t||jQuery(".hs-drawer-checkout form").replaceWith('<button id="anncodde" class="hs-checkout-purchase checkout-x-buy-now-btn hs-button-100-w btn hs-event-static">Checkout</button>'),setTimeout((function(){t||jQuery(".hs-drawer-checkout form").replaceWith('<button id="anncodde" class="hs-checkout-purchase checkout-x-buy-now-btn hs-button-100-w btn hs-event-static">Checkout</button>')}),800)}))};let newdatacheck="";$('input[name="paywhirl-plan-selector-group"]').click((function(){newdatacheck=$(this).is(":checked")&&$(this).siblings("span").text(),console.log("newdatacheck",newdatacheck),"Subscribe & Save 15%"===newdatacheck?$("#ac_table2").hide():$("#ac_table2").show()})),console.log("newdatacheck",newdatacheck),$(".swatch_options label").click((function(){"Subscribe & Save 15%"===newdatacheck?$("#ac_table2").hide():$("#ac_table2").show()})),setTimeout((function(){null!=jQuery(".flickity-viewport:first")[0]&&"0px"==jQuery(".flickity-viewport:first")[0].style.height&&location.reload()}),600);var globalFieldsProductPage_AC=new ACDiscountApp.PDPage.Global,displayTiers=new ACDiscountApp.PDPage.DisplayTiers;displayTiers.DisplayTiersFn(),displayTiers.OnVariantChange();